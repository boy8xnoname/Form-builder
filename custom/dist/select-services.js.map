{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./custom/js/select-services.js","webpack:///./custom/js/utils/currency.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@woocommerce/number/build-module/index.js","webpack:///./node_modules/locutus/php/strings/number_format.js","webpack:///external [\"wp\",\"i18n\"]","webpack:///external \"jQuery\""],"names":["getCheckedCount","checkboxes","Array","from","reduce","i","c","checked","getCheckedValues","filter","checkbox","map","parseFloat","getAttribute","initSelectServices","form","basePrice","querySelectorAll","totalElement","querySelector","itemCountElement","checkedCount","getSelectedTotal","prices","total","price","handleCheckboxChange","e","count","textContent","innerHTML","storeCurrency","formatAmount","handleClassState","currentTarget","parent","$","closest","classList","add","remove","forEach","element","addEventListener","removeEventListener","elements","document","CurrencyFactory","currencySetting","currency","defaultCurrency","code","symbol","symbolPosition","thousandSeparator","decimalSeparator","precision","setCurrency","setting","config","toString","priceFormat","getPriceFormat","parseInt","stripTags","str","tmp","createElement","innerText","number","formattedNumber","numberFormat","sprintf","getCurrencyConfig","formatDecimal","Number","isNaN","Math","round","pow","formatDecimalString","toFixed"],"mappings":"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C;;AAE1E,sBAAsB,mBAAO,CAAC,sFAAsB;;AAEpD;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACbA,uBAAuB,mBAAO,CAAC,wFAAuB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoE;AACF;;AAElE,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,4EAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEphB,sBAAsB,mBAAO,CAAC,8FAAmC;AACjE;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA,WAAW,cAAc;AACzB,YAAY,QAAQ;AACpB;;;AAGO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iCAAiC,2EAAc;AAC/C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wDAAwD,mBAAmB;AAC3E;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iC;;;;;;;;;;;;AC5Fa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,EAAE;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yC;;;;;;;;;;;ACtFA,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,mCAAmC,EAAE,I","file":"select-services.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./custom/js/select-services.js\");\n","import $ from 'jquery'\nimport { storeCurrency } from './utils/currency'\n\nconst getCheckedCount = (checkboxes) => Array.from(checkboxes)\n    .reduce((i, c) => i + (c.checked ? 1 : 0), 0)\n\nconst getCheckedValues = (checkboxes) => Array.from(checkboxes)\n    .filter((checkbox) => checkbox.checked)\n    .map((checkbox) => parseFloat(checkbox.getAttribute('data-price')) || 0)\n\n/**\n * @param {HTMLElement} form\n */\nfunction initSelectServices(form) {\n  const basePrice = parseFloat(form.getAttribute('data-base-price')) || 0\n\n  const checkboxes = form.querySelectorAll('input[type=\"checkbox\"][name=\"ep_services[]\"]')\n  const totalElement = form.querySelector('[data-text-total]')\n  const itemCountElement = form.querySelector('[data-text-count]')\n\n  const checkedCount = () => getCheckedCount(checkboxes)\n\n  const getSelectedTotal = () => {\n    const prices = getCheckedValues(checkboxes)\n\n    return prices.reduce((total, price) => total + price, 0)\n  }\n\n  const handleCheckboxChange = (e) => {\n    let count = checkedCount()\n    // submitButton.disabled = count === 0\n\n    if (itemCountElement) {\n      itemCountElement.textContent = count\n    }\n\n    if (totalElement) {\n      totalElement.innerHTML = storeCurrency.formatAmount(\n          basePrice + getSelectedTotal()\n      )\n    }\n\n    if (e) {\n      handleClassState(e.currentTarget)\n    }\n  }\n\n  const handleClassState = (checkbox) => {\n    let parent = $(checkbox).closest('.epService__item')[0]\n    if (!parent) {\n      return\n    }\n\n    if (checkbox.checked) {\n      parent.classList.add('is-active')\n    } else {\n      parent.classList.remove('is-active')\n    }\n  }\n\n  // Init the listeners.\n  handleCheckboxChange()\n  checkboxes.forEach(element => {\n    handleClassState(element)\n    element.addEventListener('change', handleCheckboxChange)\n  })\n\n  return () => {\n    checkboxes.forEach(element => {\n      element.removeEventListener('change', handleCheckboxChange)\n    })\n  }\n}\n\n$(function() {\n  let elements = document.querySelectorAll('form.epService')\n\n  for (let element of elements) {\n    initSelectServices(element)\n  }\n})\n","import { sprintf } from '@wordpress/i18n';\nimport { numberFormat } from '@woocommerce/number';\n\nconst CurrencyFactory = (currencySetting) => {\n  let currency;\n\n  const defaultCurrency = {\n    code: 'USD',\n    symbol: '$',\n    symbolPosition: 'left',\n    thousandSeparator: ',',\n    decimalSeparator: '.',\n    precision: 2,\n  };\n\n  setCurrency(currencySetting);\n\n  function setCurrency(setting) {\n    const config = { ...defaultCurrency, ...setting };\n\n    currency = {\n      code: config.code.toString(),\n      symbol: config.symbol.toString(),\n      symbolPosition: config.symbolPosition.toString(),\n      decimalSeparator: config.decimalSeparator.toString(),\n      priceFormat: getPriceFormat(config),\n      thousandSeparator: config.thousandSeparator.toString(),\n      precision: parseInt(config.precision, 10),\n    };\n  }\n\n  function stripTags(str) {\n    const tmp = document.createElement('DIV');\n    tmp.innerHTML = str;\n    return tmp.textContent || tmp.innerText || '';\n  }\n\n  /**\n   * Formats money value.\n   *\n   * @param   {number|string} number number to format\n   * @return {?string} A formatted string.\n   */\n  function formatAmount(number) {\n    const formattedNumber = numberFormat(currency, number);\n\n    if (formattedNumber === '') {\n      return formattedNumber;\n    }\n\n    const { priceFormat, symbol } = currency;\n\n    // eslint-disable-next-line @wordpress/valid-sprintf\n    return sprintf(priceFormat, symbol, formattedNumber);\n  }\n\n  /**\n   * Get the default price format from a currency.\n   *\n   * @param {Object} config Currency configuration.\n   * @return {string} Price format.\n   */\n  function getPriceFormat(config) {\n    if (config.priceFormat) {\n      return stripTags(config.priceFormat.toString());\n    }\n\n    switch (config.symbolPosition) {\n      case 'left':\n        return '%1$s%2$s';\n      case 'right':\n        return '%2$s%1$s';\n      case 'left_space':\n        return '%1$s&nbsp;%2$s';\n      case 'right_space':\n        return '%2$s&nbsp;%1$s';\n    }\n\n    return '%1$s%2$s';\n  }\n\n  return {\n    getCurrencyConfig: () => ({ ...currency }),\n    setCurrency,\n    formatAmount,\n    getPriceFormat,\n\n    /**\n     * Get the rounded decimal value of a number at the precision used for the current currency.\n     * This is a work-around for fraction-cents, meant to be used like `wc_format_decimal`\n     *\n     * @param {number|string} number A floating point number (or integer), or string that converts\n     *   to a number\n     * @return {number} The original number rounded to a decimal point\n     */\n    formatDecimal(number) {\n      if (typeof number !== 'number') {\n        number = parseFloat(number);\n      }\n\n      if (Number.isNaN(number)) {\n        return 0;\n      }\n\n      const { precision } = currency;\n\n      return (\n        Math.round(number * Math.pow(10, precision)) / Math.pow(10, precision)\n      );\n    },\n\n    /**\n     * Get the string representation of a floating point number to the precision used by the\n     * current currency. This is different from `formatAmount` by not returning the currency\n     * symbol.\n     *\n     * @param  {number|string} number A floating point number (or integer), or string that converts\n     *   to a number\n     * @return {string} The original number rounded to a decimal point\n     */\n    formatDecimalString(number) {\n      if (typeof number !== 'number') {\n        number = parseFloat(number);\n      }\n\n      if (Number.isNaN(number)) {\n        return '';\n      }\n\n      const { precision } = currency;\n      return number.toFixed(precision);\n    },\n  };\n};\n\nconst storeCurrency = new CurrencyFactory()\n\nexport { storeCurrency, CurrencyFactory }\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar numberFormatter = require('locutus/php/strings/number_format');\n/**\n * Formats a number using site's current locale\n *\n * @see http://locutus.io/php/strings/number_format/\n * @param {Object} numberConfig number formatting configuration object.\n * @param numberConfig.precision\n * @param numberConfig.decimalSeparator\n * @param numberConfig.thousandSeparator\n * @param {number|string} number number to format\n * @return {?string} A formatted string.\n */\n\n\nexport function numberFormat(_ref, number) {\n  var _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? null : _ref$precision,\n      _ref$decimalSeparator = _ref.decimalSeparator,\n      decimalSeparator = _ref$decimalSeparator === void 0 ? '.' : _ref$decimalSeparator,\n      _ref$thousandSeparato = _ref.thousandSeparator,\n      thousandSeparator = _ref$thousandSeparato === void 0 ? ',' : _ref$thousandSeparato;\n\n  if (typeof number !== 'number') {\n    number = parseFloat(number);\n  }\n\n  if (isNaN(number)) {\n    return '';\n  }\n\n  var parsedPrecision = parseInt(precision, 10);\n\n  if (isNaN(parsedPrecision)) {\n    var _number$toString$spli = number.toString().split('.'),\n        _number$toString$spli2 = _slicedToArray(_number$toString$spli, 2),\n        decimals = _number$toString$spli2[1];\n\n    parsedPrecision = decimals ? decimals.length : 0;\n  }\n\n  return numberFormatter(number, parsedPrecision, decimalSeparator, thousandSeparator);\n}\n/**\n * Formats a number string based on type of `average` or `number`.\n *\n * @param {Object} numberConfig number formatting configuration object.\n * @param {string} type of number to format, average or number\n * @param {number} value to format.\n * @return {?string} A formatted string.\n */\n\nexport function formatValue(numberConfig, type, value) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  switch (type) {\n    case 'average':\n      return Math.round(value);\n\n    case 'number':\n      return numberFormat(_objectSpread(_objectSpread({}, numberConfig), {}, {\n        precision: null\n      }), value);\n  }\n}\n/**\n * Calculates the delta/percentage change between two numbers.\n *\n * @param {number} primaryValue the value to calculate change for.\n * @param {number} secondaryValue the baseline which to calculdate the change against.\n * @return {?number} Percent change between the primaryValue from the secondaryValue.\n */\n\nexport function calculateDelta(primaryValue, secondaryValue) {\n  if (!Number.isFinite(primaryValue) || !Number.isFinite(secondaryValue)) {\n    return null;\n  }\n\n  if (secondaryValue === 0) {\n    return 0;\n  }\n\n  return Math.round((primaryValue - secondaryValue) / secondaryValue * 100);\n}\n//# sourceMappingURL=index.js.map","'use strict';\n\nmodule.exports = function number_format(number, decimals, decPoint, thousandsSep) {\n  // eslint-disable-line camelcase\n  //  discuss at: http://locutus.io/php/number_format/\n  // original by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)\n  // improved by: Kevin van Zonneveld (http://kvz.io)\n  // improved by: davook\n  // improved by: Brett Zamir (http://brett-zamir.me)\n  // improved by: Brett Zamir (http://brett-zamir.me)\n  // improved by: Theriault (https://github.com/Theriault)\n  // improved by: Kevin van Zonneveld (http://kvz.io)\n  // bugfixed by: Michael White (http://getsprink.com)\n  // bugfixed by: Benjamin Lupton\n  // bugfixed by: Allan Jensen (http://www.winternet.no)\n  // bugfixed by: Howard Yeend\n  // bugfixed by: Diogo Resende\n  // bugfixed by: Rival\n  // bugfixed by: Brett Zamir (http://brett-zamir.me)\n  //  revised by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)\n  //  revised by: Luke Smith (http://lucassmith.name)\n  //    input by: Kheang Hok Chin (http://www.distantia.ca/)\n  //    input by: Jay Klehr\n  //    input by: Amir Habibi (http://www.residence-mixte.com/)\n  //    input by: Amirouche\n  //   example 1: number_format(1234.56)\n  //   returns 1: '1,235'\n  //   example 2: number_format(1234.56, 2, ',', ' ')\n  //   returns 2: '1 234,56'\n  //   example 3: number_format(1234.5678, 2, '.', '')\n  //   returns 3: '1234.57'\n  //   example 4: number_format(67, 2, ',', '.')\n  //   returns 4: '67,00'\n  //   example 5: number_format(1000)\n  //   returns 5: '1,000'\n  //   example 6: number_format(67.311, 2)\n  //   returns 6: '67.31'\n  //   example 7: number_format(1000.55, 1)\n  //   returns 7: '1,000.6'\n  //   example 8: number_format(67000, 5, ',', '.')\n  //   returns 8: '67.000,00000'\n  //   example 9: number_format(0.9, 0)\n  //   returns 9: '1'\n  //  example 10: number_format('1.20', 2)\n  //  returns 10: '1.20'\n  //  example 11: number_format('1.20', 4)\n  //  returns 11: '1.2000'\n  //  example 12: number_format('1.2000', 3)\n  //  returns 12: '1.200'\n  //  example 13: number_format('1 000,50', 2, '.', ' ')\n  //  returns 13: '100 050.00'\n  //  example 14: number_format(1e-8, 8, '.', '')\n  //  returns 14: '0.00000001'\n\n  number = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\n  var n = !isFinite(+number) ? 0 : +number;\n  var prec = !isFinite(+decimals) ? 0 : Math.abs(decimals);\n  var sep = typeof thousandsSep === 'undefined' ? ',' : thousandsSep;\n  var dec = typeof decPoint === 'undefined' ? '.' : decPoint;\n  var s = '';\n\n  var toFixedFix = function toFixedFix(n, prec) {\n    if (('' + n).indexOf('e') === -1) {\n      return +(Math.round(n + 'e+' + prec) + 'e-' + prec);\n    } else {\n      var arr = ('' + n).split('e');\n      var sig = '';\n      if (+arr[1] + prec > 0) {\n        sig = '+';\n      }\n      return (+(Math.round(+arr[0] + 'e' + sig + (+arr[1] + prec)) + 'e-' + prec)).toFixed(prec);\n    }\n  };\n\n  // @todo: for IE parseFloat(0.55).toFixed(0) = 0;\n  s = (prec ? toFixedFix(n, prec).toString() : '' + Math.round(n)).split('.');\n  if (s[0].length > 3) {\n    s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n  }\n  if ((s[1] || '').length < prec) {\n    s[1] = s[1] || '';\n    s[1] += new Array(prec - s[1].length + 1).join('0');\n  }\n\n  return s.join(dec);\n};\n//# sourceMappingURL=number_format.js.map","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"jQuery\"]; }());"],"sourceRoot":""}